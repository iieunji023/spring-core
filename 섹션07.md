## ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ê³¼ ì˜ì¡´ê´€ê³„ ìë™ ì£¼ì… ì‹œì‘í•˜ê¸°

- ì§€ê¸ˆê¹Œì§€ ìŠ¤í”„ë§ ë¹ˆì„ ë“±ë¡í•  ë•ŒëŠ” ìë°” ì½”ë“œì˜ `@Bean`ì´ë‚˜ XMLì˜ `<bean>`ì„ í†µí•´ ì„¤ì • ì •ë³´ì— ì§ì ‘ ë“±ë¡í•  ìŠ¤í”„ë§ ë¹ˆì„ ë‚˜ì—´í–ˆë‹¤
- ìŠ¤í”„ë§ ë¹ˆì´ ìˆ˜ë°± ê°œê°€ ë˜ë©´ ì¼ì¼ì´ ë“±ë¡í•˜ê¸° ì–´ë ¤ìš¸ ë¿ ì•„ë‹ˆë¼ ì„¤ì • ì •ë³´ë„ ì»¤ë¦¬ê³  ëˆ„ë½í•˜ëŠ” ë¬¸ì œê°€ ë°œìƒí•œë‹¤
- ê·¸ë˜ì„œ ìŠ¤í”„ë§ì€ ì„¤ì • ì •ë³´ê°€ ì—†ì–´ë„ ìë™ìœ¼ë¡œ ìŠ¤í”„ë§ ë¹ˆì„ ë“±ë¡í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì´ë¼ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤
- ë˜ ì˜ì¡´ê´€ê³„ë„ ìë™ìœ¼ë¡œ ì£¼ì…í•˜ëŠ” `@Autowired`ë¼ëŠ” ê¸°ëŠ¥ë„ ì œê³µí•œë‹¤

ğŸ’¡ ì‹¤ì œ ì½”ë“œë¥¼ í†µí•´ **ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”**ê³¼ **ì˜ì¡´ê´€ê³„ ìë™ ì£¼ì…**ì— ëŒ€í•´ ì•Œì•„ë³´ë ¤ í•œë‹¤

> AutoAppConfig - ì„¤ì • ì •ë³´ 
> <br> - @Configuration 
> <br> -@ComponentScan

- ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì„ ì‚¬ìš©í•˜ë ¤ë©´ ë¨¼ì € `@ComponentScan`ì„ ì„¤ì • ì •ë³´ì— ë¶™ì—¬ì£¼ë©´ ëœë‹¤
- ê¸°ì¡´ì˜ AppConfigì™€ ë‹¬ë¦¬ `@Bean`ìœ¼ë¡œ ë“±ë¡í•œ í´ë˜ìŠ¤ê°€ í•˜ë‚˜ë„ ì—†ìŒ

```
ğŸ’¡ ì°¸ê³ 
- ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì„ ì‚¬ìš©í•˜ë©´ `@Configuration`ì´ ë¶™ì€ ì„¤ì • ì •ë³´ë„ ìë™ìœ¼ë¡œ ë“±ë¡ë˜ê¸° ë•Œë¬¸ì— AppConfig, TestConfig ë“± ì•ì„œ ë§Œë“¤ì–´ë‘ì—ˆë˜ ì„¤ì • ì •ë³´ë„ í•¨ê»˜ ë“±ë¡ë˜ê³ , ì‹¤í–‰ëœë‹¤
- ê·¸ë˜ì„œ excludeFiltersë¥¼ ì´ìš©í•´ì„œ ì„¤ì • ì •ë³´ëŠ” ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº” ëŒ€ìƒì—ì„œ ì œì™¸í–ˆë‹¤
(Configuration ì–´ë…¸í…Œì´ì…˜ì´ ë¶™ì–´ìˆëŠ” í´ë˜ìŠ¤)
- ë³´í†µ ì„¤ì • ì •ë³´ë¥¼ ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº” ëŒ€ìƒì—ì„œ ì œì™¸í•˜ì§€ëŠ” ì•Šì§€ë§Œ, ê¸°ì¡´ ì˜ˆì œ ì½”ë“œë¥¼ ìµœëŒ€í•œ ë‚¨ê¸°ê³  ìœ ì§€í•˜ê¸° ìœ„í•´ ì‚¬ìš©
```

ğŸ”¹ ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”(`@ComponentScan`)ì€ ì´ë¦„ ê·¸ëŒ€ë¡œ `@Component` ì–´ë…¸í…Œì´ì…˜ì´ ë¶™ì€ í´ë˜ìŠ¤ë¥¼ ìŠ¤ìº”í•´ì„œ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡í•œë‹¤<br>
ğŸ”¹ `@Component`ë¥¼ ë¶™ì—¬ì£¼ì

> MemoryMemberRepository, MemberServiceImpl, RateDiscountPolicy, OrderServiceImpl - ë¹ˆ ìë™ ë“±ë¡

<details>
      <summary>MemoryMemberRepository - @Compont</summary>

        @Component
        public class MemoryMemberRepository implements MemberRepository{}

</details>

<details>
      <summary>RateDiscountPolicy  - @Compont</summary>

        @Component
        public class RateDiscountPolicy implements DiscountPolicy {}

</details>

<details>
      <summary>MemberServiceImpl - @Compont, @Autowired</summary>

        @Component
        public class MemberServiceImpl implements MemberService{
        private final  MemberRepository memberRepository;

        @Autowired  //ac.getBean(MemberRepository.class)
        public MemberServiceImpl(MemberRepository memberRepository) {
            this.memberRepository = memberRepository;
            }
        }

- ì´ì „ì—ëŠ” AppConfigì—ì„œ @Beanì„ í†µí•´ ì˜ì¡´ê´€ê³„ë¥¼ ë‚´ê°€ ì£¼ì…í•´ì¤¬ë‹¤
- ê·¸ëŸ¬ë‚˜ AutoAppConfig í´ë˜ìŠ¤ ë‚´ì—ëŠ” ì˜ì¡´ ê´€ê³„ë¥¼ ì£¼ì…í•˜ëŠ” ì½”ë“œê°€ ì—†ìŒ
- ë”°ë¼ì„œ ì´ì œ ì˜ì¡´ê´€ê³„ë¥¼ ìë™ìœ¼ë¡œ ì£¼ì…í•´ì¤˜ì•¼ í•¨ â‡’ `@Autowired` ì‚¬ìš©!!
    - `@Autowired`== `//ac.getBean(MemberRepository.class)`

</details>

<details>
      <summary>RateDiscountPolicy  - @Compont</summary>

        @Component
        public class OrderServiceImpl implements OrderService {
        private final MemberRepository memberRepository;
        private final DiscountPolicy discountPolicy;

        @Autowired
        public OrderServiceImpl(MemberRepository memberRepository, DiscountPolicy discountPolicy) {
            this.memberRepository = memberRepository;
            this.discountPolicy = discountPolicy;
            }
        }

- @Autowiredë¥¼ ì‚¬ìš©í•˜ë©´ ìƒì„±ìì—ì„œ ì—¬ëŸ¬ ì˜ì¡´ê´€ê³„ë„ í•œë²ˆì— ì£¼ì…ë°›ì„ ìˆ˜ ìˆë‹¤

</details>

### í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±

> AutoAppConfigTest
- `AnnotationConfigApplicationContext`ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ê¸°ì¡´ê³¼ ë™ì¼
- ì„¤ì • ì •ë³´ë¥¼ë¡œ `AutoAppConfig` í´ë˜ìŠ¤ ë„˜ê²¨ì¤Œ

```
ClassPathBeanDefinitionScanner - Identified candidate component class:
 .. RateDiscountPolicy.class
 .. MemberServiceImpl.class
 .. MemoryMemberRepository.class
 .. OrderServiceImpl.class
```
- ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì´ ì˜ ë™ì‘í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤

### @ComponentScan

<img src="https://github.com/iieunji023/spring-core/blob/main/images/componentScan.png" width="500">

- `@ComponentScan`ì€ `@Component`ê°€ ë¶™ì€ ëª¨ë“  í´ë˜ìŠ¤ë¥¼ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡í•œë‹¤
- ì´ë•Œ ìŠ¤í”„ë§ ë¹ˆì˜ ê¸°ë³¸ ì´ë¦„ì€ **í´ë˜ìŠ¤ëª…**ì„ ì‚¬ìš©í•˜ë˜ **ë§¨ ì•ê¸€ìë§Œ ì†Œë¬¸ìë¥¼ ì‚¬ìš©**
  - ë¹ˆ ì´ë¦„ ê¸°ë³¸ ì „ëµ: MemberServiceImpl í´ë˜ìŠ¤ â†’ memberServiceImpl
  - ë¹ˆ ì´ë¦„ ì§ì ‘ ì§€ì •: ë§Œì•½ ìŠ¤í”„ë§ ë¹ˆì˜ ì´ë¦„ì„ ì§ì ‘ ì§€ì •í•˜ê³  ì‹¶ìœ¼ë©´ `@Component(â€memberService2â€)`ë¡œ ë¶€ì—¬

### @Autowired ì˜ì¡´ê´€ê³„ ìë™ ì£¼ì…

<img src="https://github.com/iieunji023/spring-core/blob/main/images/autowired.png" width="500">

- ìƒì„±ìì— `@Autowired`ë¥¼ ì§€ì •í•˜ë©´, ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆê°€ ìë™ìœ¼ë¡œ í•´ë‹¹ ìŠ¤í”„ë§ ë¹ˆì„ ì°¾ì•„ì„œ ì£¼ì…í•œë‹¤
- ì´ë•Œ ê¸°ë³¸ ì¡°íšŒ ì „ëµì€ **íƒ€ì…ì´ ê°™ì€ ë¹ˆì„ ì°¾ì•„ì„œ ì£¼ì…í•œë‹¤**
  - `getBean(MemberRepository.class)`ì™€ ë™ì¼í•˜ë‹¤ê³  ì´í•´í•˜ë©´ ëœë‹¤

<img src="https://github.com/iieunji023/spring-core/blob/main/images/autowired1.png" width="500">

- ìƒì„±ìì— íŒŒë¼ë¯¸í„°ê°€ ë§ì•„ë„ ë‹¤ ì°¾ì•„ì„œ ìë™ìœ¼ë¡œ ì£¼ì…íŒë‹¤

